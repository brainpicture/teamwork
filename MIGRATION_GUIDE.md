# Миграция: Удаление полей priority и deadline

## Описание изменений

В этом обновлении были удалены поля `priority` и `deadline` из проектов, так как они оказались не нужны для текущих задач управления проектами.

## Что изменилось

### Удаленные поля:
- `priority` - приоритет проекта (low, medium, high, urgent)
- `deadline` - дедлайн проекта (DATE)

### Измененные файлы:
- `internal/projects.go` - убраны поля из структуры Project и все связанные функции
- `internal/functions.go` - обновлены GPT функции для создания/обновления проектов
- `internal/prompts.go` - обновлены промпты для AI ассистента
- `*.sql` файлы - обновлены схемы базы данных
- `README.md` - обновлена документация

## Применение миграции

### Для существующей базы данных:
```bash
make db-remove-fields
```

### Для новой установки:
```bash
make db-init
```

### Для development reset (удаляет все данные):
```bash
make db-reset
```

## Влияние на данные

⚠️ **ВНИМАНИЕ**: При применении миграции `db-remove-fields` поля `priority` и `deadline` будут удалены из всех существующих проектов. Данные в этих полях будут потеряны навсегда.

Если вам нужно сохранить эти данные, сделайте резервную копию перед применением миграции:

```bash
mysqldump -u root -p teamwork > backup_before_migration.sql
```

## Проверка изменений

После применения миграции структура таблицы `projects` должна содержать только следующие поля:

```sql
DESCRIBE projects;
```

Ожидаемый результат:
```
+-------------+-----------------------------------------------------+------+-----+-------------------+----------------+
| Field       | Type                                                | Null | Key | Default           | Extra          |
+-------------+-----------------------------------------------------+------+-----+-------------------+----------------+
| id          | int                                                 | NO   | PRI | NULL              | auto_increment |
| title       | varchar(255)                                        | NO   |     | NULL              |                |
| description | text                                                | YES  |     | NULL              |                |
| status      | enum('planning','active','paused','completed',     | YES  | MUL | planning          |                |
|             | 'cancelled')                                        |      |     |                   |                |
| created_at  | timestamp                                           | YES  | MUL | CURRENT_TIMESTAMP |                |
| updated_at  | timestamp                                           | YES  |     | CURRENT_TIMESTAMP | on update      |
|             |                                                     |      |     |                   | CURRENT_TIMESTAMP |
+-------------+-----------------------------------------------------+------+-----+-------------------+----------------+
```

## Функциональность после миграции

После миграции проекты поддерживают только:
- Название (title)
- Описание (description) 
- Статус (planning, active, paused, completed, cancelled)
- Даты создания и обновления
- Система ролей пользователей (owner, admin, member, viewer)

Команды для работы с проектами остаются теми же, просто убрана возможность задавать приоритет и дедлайн. 